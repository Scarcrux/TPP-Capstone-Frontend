{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/haitham/Desktop/Capstone/TTP-Capstone-Frontend/src/screens/Products.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { nextPage, fetchAllProduct } from '../actions/productActions';\nimport CardProduct from '../components/CardProduct';\nimport { Container, Row, Col } from 'reactstrap';\nimport { Pagination, PaginationItem } from 'reactstrap';\n\nclass Product extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      page: 1,\n      maxPage: Math.ceil(this.props.products.length / 3)\n    };\n\n    this.goToFirst = () => {\n      this.setState({\n        page: 1\n      });\n    };\n\n    this.goToLast = () => {\n      this.setState({\n        page: this.state.maxPage\n      });\n    };\n\n    this.goBack = () => {\n      if (this.state.page > 1) {\n        this.setState({\n          page: this.state.page - 1\n        });\n      }\n    };\n\n    this.moveForward = () => {\n      if (this.state.page < this.state.maxPage) {\n        this.setState({\n          page: this.state.page + 1\n        });\n      }\n    };\n\n    this.goToPage = num => {\n      this.setState({\n        page: num\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.nextPage(this.state.page);\n    this.props.fetchAllProduct();\n  }\n\n  componentDidUpdate(prevState) {\n    if (this.state.page !== prevState.page) {\n      this.props.nextPage(this.state.page);\n    }\n  }\n\n  render() {\n    const res = this.props.pds.map(product => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        xs: \"12\",\n        s: \"6\",\n        m: \"3\",\n        l: \"3\",\n        xl: \"3\",\n        children: /*#__PURE__*/_jsxDEV(CardProduct, {\n          price: product.price,\n          countInStock: product.countInStock,\n          rating: product.rating,\n          numReviews: product.numReviews,\n          id: product._id,\n          name: product.name,\n          image: product.image,\n          brand: product.brand,\n          category: product.category,\n          description: product.description,\n          reviews: product.reviews\n        }, product._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this));\n    let array = new Array(3);\n\n    if (this.state.page % 3 == 1) {\n      array = [this.state.page, this.state.page + 1, this.state.page + 2];\n    } else if (this.state.page % 3 == 2) {\n      array = [this.state.page - 1, this.state.page, this.state.page + 1];\n    } else {\n      array = [this.state.page - 2, this.state.page - 1, this.state.page];\n    }\n\n    const pages = array.map(num => /*#__PURE__*/_jsxDEV(PaginationItem, {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.goToPage(num);\n        },\n        children: num\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"no-gutters\",\n          children: res\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        \"aria-label\": \"Page navigation example\",\n        children: [/*#__PURE__*/_jsxDEV(PaginationItem, {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.goToFirst,\n            children: \"First\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(PaginationItem, {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.goBack,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), pages, /*#__PURE__*/_jsxDEV(PaginationItem, {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.moveForward,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(PaginationItem, {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.goToLast,\n            children: \"Last\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    pds: state.pds.productPage,\n    products: state.pds.products\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    nextPage: page => dispatch(nextPage(page)),\n    fetchAllProduct: () => dispatch(fetchAllProduct())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);","map":{"version":3,"sources":["/Users/haitham/Desktop/Capstone/TTP-Capstone-Frontend/src/screens/Products.js"],"names":["React","Component","connect","nextPage","fetchAllProduct","CardProduct","Container","Row","Col","Pagination","PaginationItem","Product","state","page","maxPage","Math","ceil","props","products","length","goToFirst","setState","goToLast","goBack","moveForward","goToPage","num","componentDidMount","componentDidUpdate","prevState","render","res","pds","map","product","price","countInStock","rating","numReviews","_id","name","image","brand","category","description","reviews","array","Array","pages","mapStateToProps","productPage","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport { nextPage,fetchAllProduct } from '../actions/productActions';\nimport CardProduct from '../components/CardProduct';\nimport { Container, Row, Col } from 'reactstrap';\nimport { Pagination, PaginationItem } from 'reactstrap';\n\nclass Product extends Component {\n    state = {\n        page:1,\n        maxPage:Math.ceil(this.props.products.length/3)\n    }\n    componentDidMount() {\n        this.props.nextPage(this.state.page);\n        this.props.fetchAllProduct();\n    }\n    componentDidUpdate(prevState){\n        if (this.state.page !== prevState.page) {\n            this.props.nextPage(this.state.page);\n          }\n    }\n    goToFirst = () =>{\n        this.setState({page:1});\n    }\n    goToLast = () =>{\n        this.setState({page: this.state.maxPage});\n    }\n    goBack = () =>{\n        if(this.state.page>1){\n            this.setState({page:this.state.page-1});\n        }\n    }\n    moveForward = () =>{\n        if(this.state.page<this.state.maxPage){\n            this.setState({page:this.state.page+1});\n        }\n    }\n    goToPage = (num) =>{\n        this.setState({page:num});\n    }\n    render() {\n    const res=this.props.pds.map((product) => (\n        <span>\n        <Col xs=\"12\" s=\"6\" m=\"3\" l=\"3\" xl=\"3\">\n        <CardProduct price={product.price} countInStock={product.countInStock}\n        rating={product.rating} numReviews={product.numReviews} id={product._id}\n        name={product.name} image={product.image} brand={product.brand}\n        category={product.category} description={product.description}\n        reviews={product.reviews} key={product._id}/>\n        </Col>\n        </span>));\n    let array = new Array(3);\n    if(this.state.page % 3 == 1){\n        array=[this.state.page, this.state.page+1, this.state.page+2];\n    }else if(this.state.page % 3 == 2){\n        array=[this.state.page-1, this.state.page, this.state.page+1];\n    }else{\n        array=[this.state.page-2, this.state.page-1, this.state.page];\n    }\n    const pages = array.map((num)=>(\n        <PaginationItem>\n        <button onClick={()=>{this.goToPage(num)}}>{num}</button>\n        </PaginationItem>\n    ));\n    return (\n        <div>\n            <h1>Products</h1>\n            <Container>\n            <Row className=\"no-gutters\">\n            {res}\n            </Row>\n            </Container>\n            <Pagination aria-label=\"Page navigation example\">\n            <PaginationItem>\n            <button onClick={this.goToFirst}>First</button>\n            </PaginationItem>\n            <PaginationItem>\n            <button onClick={this.goBack}>Previous</button>\n            </PaginationItem>\n            {pages}\n            <PaginationItem>\n            <button onClick={this.moveForward}>Next</button>\n            </PaginationItem>\n            <PaginationItem>\n            <button onClick={this.goToLast}>Last</button>\n            </PaginationItem>\n            </Pagination>\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n    return {\n        pds: state.pds.productPage,\n        products: state.pds.products\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        nextPage: (page) => dispatch(nextPage(page)),\n        fetchAllProduct: ()=> dispatch(fetchAllProduct())\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\n"]},"metadata":{},"sourceType":"module"}